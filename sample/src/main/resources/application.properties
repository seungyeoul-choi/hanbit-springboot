spring.application.name=sample

# ==========================================================
# 한글 인코딩 설정 (UTF-8)
# ==========================================================

# HTTP 요청 및 응답에 대한 인코딩 설정
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# (선택) JSON 반환 시 한글 깨짐 방지 (Spring Boot 2.2 미만이나 특정 상황 대비)
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# 로그 파일 경로 및 이름 설정
logging.file.name: ./log/app.log

# data source
spring.datasource.url=jdbc:mysql://localhost:3306/?allowPublicKeyRetrieval=true&useSSL=false
spring.datasource.username=myuser
spring.datasource.password=mypassword
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# enable mysql sql logging
logging.level.org.springframework.jdbc.core=DEBUG
  
logback.rollingpolicy.
# 로그 백업 시 파일 이름 패턴 (.gz 사용 시 자동 압축 저장)
logback.rollingpolicy.file-name-pattern: "./log/backups/app-%d{yyyy-MM-dd}.%i.log.gz"
      
# 로그 파일 하나가 10KB를 넘으면 백업 (테스트를 위해 매우 작게 설정됨)
logback.rollingpolicy.max-file-size: 10KB
      
# 백업 파일 보관 일수 (7일)
logback.rollingpolicy.max-history: 7
      
# 전체 백업 파일 크기 합계가 1GB를 넘으면 오래된 순으로 삭제
logback.rollingpolicy.total-size-cap: 1GB
      
# 애플리케이션 시작 시 로그 아카이브 정리 여부
logback.rollingpolicy.clean-history-on-start: true

# 패키지별 로그 레벨 설정 (필요 시)
logging.level.root: INFO
logging.level.com.example.sample: DEBUG